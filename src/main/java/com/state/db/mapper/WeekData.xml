<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.state.dao.WeekDataDao">

	<insert id="insertWeekData" parameterType="WeekDataPo" >
		insert into <include refid='public.model' /> CBPM_WEEKDATA
		 (ID_,WEEKNUM,DAYS,startTime,endTime,ablePower,alitAvg,buySumElectricity,saleSumElectricity,
		 buySum,saleSum,saleAvgPower,saleAvgPrice,buyAvgPower,buyAvgPrice,dealPower,dealPrice,executePower,
		 saleTable,buyTable,dealTable,executeTable,biasTable,pictureData) 
		 values 
		 (#{id},#{weekNum},#{days},#{startTime},#{endTime},#{ablePower},#{alitAvg},#{buySumElectricity},#{saleSumElectricity},
		 #{buySum},#{saleSum},#{saleAvgPower},#{saleAvgPrice},#{buyAvgPower},#{buyAvgPrice},#{dealPower},
		 #{dealPrice},#{executePower},#{saleTable},#{buyTable},#{dealTable},#{executeTable},#{biasTable},#{pictureData})
		 
	</insert>
	<update id="updateWeekData" parameterType="WeekDataPo">
		update <include refid='public.model' /> CBPM_WEEKDATA
		<set>
		    DAYS=#{days},
		    ablePower=#{ablePower},
		    alitAvg=#{alitAvg},
		    buySumElectricity=#{buySumElectricity},
		    saleSumElectricity=#{saleSumElectricity},
		    buySum=#{buySum},
		    saleSum=#{saleSum},
		    saleAvgPower=#{saleAvgPower},
		    saleAvgPrice=#{saleAvgPrice},
		    buyAvgPower=#{buyAvgPower},
		    buyAvgPrice=#{buyAvgPrice},
		    dealPower=#{dealPower},
		    dealPrice=#{dealPrice},
		    executePower=#{executePower},
		    saleTable=#{saleTable},
		    buyTable=#{buyTable},
		    dealTable=#{dealTable},
		    executeTable=#{executeTable},
		    biasTable=#{biasTable},
		    pictureData=#{pictureData}
		</set>
		where ID_=#{id}
	</update>
	<select id="getWeekDataByTimeAndWeek" resultType="WeekDataPo">
		select *,ID_ as id from <include refid='public.model' /> CBPM_WEEKDATA where STARTTIME =#{startTime} and ENDTIME =#{endTime}
	</select>
	
	<select id="getWeekDataByWeek" resultType="WeekDataPo" parameterType="java.lang.Integer">
		select * from <include refid='public.model' /> CBPM_WEEKDATA where WEEKNUM =#{weekNum}
	</select>
	
</mapper>