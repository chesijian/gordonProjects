/**
 * 
 */
//初始化高度
document.getElementById("main").style.height = (document.documentElement.clientHeight-18)+"px";
require.config({
    paths: {
        echarts: './../js/echart-2.2.7/dist'
    }
});
require(
[
    'echarts',
    'echarts/chart/map'   // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
    
],
function (ec) {
	
	//alert(document.getElementById("main").style.height);
    var myChart = ec.init(document.getElementById('main'));
    
    myChart.showLoading({
	    text: '正在努力的读取数据中...',    //loading话术
	});
    option = {
    	    backgroundColor: '#1b1b1b',
    	    color: ['gold','aqua','lime'],
    	    title : {
    	        text: '通道实时电量信息',
    	        //subtext:'数据纯属虚构',
    	        x:'center',
    	        textStyle : {
    	            color: '#fff'
    	        }
    	    },
    	    tooltip : {
    	        trigger: 'item',
    	        formatter: '{a}--{b}'
    	    },
    	    /*
    	    legend: {
    	        orient: 'vertical',
    	        x:'left',
    	        data:['北京', '上海', '广州'],
    	        selectedMode: 'single',
    	        selected:{
    	            '上海' : false,
    	            '广州' : false
    	        },
    	        textStyle : {
    	            color: '#fff'
    	        }
    	    },*/
    	    toolbox: {
    	        show : true,
    	        orient : 'vertical',
    	        x: 'right',
    	        y: 'center',
    	        feature : {
    	            mark : {show: true},
    	            dataView : {show: true, readOnly: false},
    	            restore : {show: true},
    	            saveAsImage : {show: true}
    	        }
    	    },
    	    dataRange: {
    	        min : 0,
    	        max : 100,
    	        calculable : true,
    	        color: ['#ff3333', 'orange', 'yellow','lime','aqua','#1b1b1b'],
    	        textStyle:{
    	            color:'#fff'
    	        }
    	    },
    	    animationDurationUpdate: 1000, // for update animation, like legend selected.
    	    series : [
    	        {
    	            name: '成都',
    	            type: 'map',
    	            roam: true,
    	            hoverable: false,
    	            mapType: 'china',
    	            itemStyle:{
    	            	normal:{
    	            		label:{show:true},
    	                    borderColor:'rgba(100,149,237,1)',
    	                    borderWidth:0.5,
    	                    areaStyle:{
    	                        color: '#1b1b1b'
    	                    }
    	                },
						emphasis:{label:{show:true}}
    	            },
    	            data:[{name:'四川',value:0}],
    	            //data:[],
    	            geoCoord: {
    	                '上海': [121.4648,31.2891],
    	                '山东': [117.1582,36.8701],
    	                '甘肃': [103.5901,36.3043],
    	                '江苏': [118.8062,31.9208],
    	                '宝鸡': [107.1826,34.3433],
    	                '四川': [103.9526,30.7617],
    	                '浙江': [119.5313,29.8773],
    	                '宁夏': [106.3586,38.1775],
    	                '陕西': [109.1162,34.2004]
    	            },
    	            markLine : {
    	                smooth:true,
    	                effect : {
    	                    show: true,
    	                    scaleSize: 1,
    	                    period: 30,
    	                    color: '#fff',
    	                    shadowBlur: 10
    	                },
    	                itemStyle : {
    	                    normal: {
    	                    	
    	                        borderWidth:1,
    	                        label: {
    	                            show: false
    	                        },
    	                        lineStyle: {
    	                            type: 'solid',
    	                            shadowBlur: 10
    	                        }
    	                    }
    	                },
    	                data : [
    	                    [{name:'四川', smoothness:0.2}, {name:'甘肃',value:95}],
    	                    [{name:'甘肃', smoothness:0.3}, {name:'山东',value:90}],
    	                    [{name:'四川', smoothness:0.4}, {name:'上海',value:80}],
    	                    [{name:'四川', smoothness:0.5}, {name:'江苏',value:70}],
    	                    [{name:'四川', smoothness:0.6}, {name:'浙江',value:60}]
    	                ]
    	            },
    	            markPoint : {
    	                symbol:'emptyCircle',
    	                symbolSize : function (v){
    	                    return 10 + v/10
    	                },
    	                effect : {
    	                    show: true,
    	                    shadowBlur : 0
    	                },
    	                itemStyle:{
    	                    normal:{
    	                        label:{show:false}
    	                    }
    	                },
    	                data : [
    	                    {name:'四川',value:95},
    	                    {name:'山东',value:90},
    	                    {name:'上海',value:80},
    	                    {name:'江苏',value:70},
    	                    {name:'浙江',value:60}
    	                ]
    	            }
    	        }
    	        
    	    ]
    	};
    	                    
    myChart.setOption(option);
    myChart.hideLoading();
}
);